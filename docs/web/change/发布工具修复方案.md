# å‘å¸ƒå·¥å…·åŠŸèƒ½ä¿®å¤æ–¹æ¡ˆ

**ä¿®å¤æ—¥æœŸ**: 2026-01-12  
**é—®é¢˜çº§åˆ«**: ä¸¥é‡  
**å½±å“èŒƒå›´**: å·¥å…·å‘å¸ƒã€åˆ—è¡¨å±•ç¤ºã€ç­›é€‰æ’åº

---

## ä¸€ã€é—®é¢˜æ¦‚è¿°

å‘å¸ƒå·¥å…·å­˜åœ¨å¤šä¸ªå…³é”®æ€§é—®é¢˜ï¼Œå¯¼è‡´å·¥å…·æ— æ³•æ­£å¸¸å‘å¸ƒã€åˆ—è¡¨å±•ç¤ºå¼‚å¸¸ã€ç­›é€‰åŠŸèƒ½å¤±æ•ˆç­‰ã€‚

### ä¸»è¦é—®é¢˜æ¸…å•

| åºå· | é—®é¢˜ç±»åˆ« | é—®é¢˜æè¿° | ä¸¥é‡ç¨‹åº¦ | å½±å“åŠŸèƒ½ |
|----|--------|---------|---------|---------|
| 1 | åˆ†é¡µé€»è¾‘ | å‰åç«¯åˆ†é¡µé€»è¾‘å†²çª | ğŸ”´ ä¸¥é‡ | åˆ—è¡¨å±•ç¤ºã€åˆ†é¡µå¯¼èˆª |
| 2 | æ•°æ®ç±»å‹ | tagIds/keywords ç±»å‹ä¸åŒ¹é… | ğŸ”´ ä¸¥é‡ | æ•°æ®ä¿å­˜ã€æŸ¥è¯¢ |
| 3 | ä¸šåŠ¡å¸¸é‡ | å·¥å…·ç±»å‹å¸¸é‡å‰åç«¯ä¸ä¸€è‡´ | ğŸ”´ ä¸¥é‡ | å·¥å…·å‘å¸ƒã€ä¸šåŠ¡æ ¡éªŒ |
| 4 | æŸ¥è¯¢æ€§èƒ½ | å…¨é‡æŸ¥è¯¢è€Œéåˆ†é¡µæŸ¥è¯¢ | ğŸŸ¡ ä¸­ç­‰ | åˆ—è¡¨åŠ è½½æ€§èƒ½ |
| 5 | VOè½¬æ¢ | è¿”å›æ•°æ®ä¸å®Œæ•´ | ğŸŸ¡ ä¸­ç­‰ | å‰ç«¯å±•ç¤º |
| 6 | ä»·æ ¼å¤„ç† | å­—ç¬¦ä¸²æ¯”è¾ƒä»£æ›¿æ•°å€¼æ¯”è¾ƒ | ğŸŸ¡ ä¸­ç­‰ | ç­›é€‰ç»Ÿè®¡ |

---

## äºŒã€è¯¦ç»†ä¿®å¤æ–¹æ¡ˆ

### 2.1 å‰ç«¯åˆ†é¡µé€»è¾‘ä¿®å¤

**é—®é¢˜ä½ç½®**: `Web/src/Views/ToolCenter/index.vue`

**é—®é¢˜æè¿°**:
- åç«¯è¿”å›å·²åˆ†é¡µæ•°æ®ï¼Œä½†å‰ç«¯å†æ¬¡è¿›è¡Œå†…å­˜åˆ†é¡µ
- å¯¼è‡´åˆ†é¡µç»Ÿè®¡é”™è¯¯ï¼Œæ•°æ®å±•ç¤ºæ··ä¹±

**ä¿®å¤æ–¹æ¡ˆ**:
```typescript
// ç§»é™¤ paginatedToolList è®¡ç®—å±æ€§ä¸­çš„ slice æ“ä½œ
// ç›´æ¥ä½¿ç”¨åç«¯è¿”å›çš„ toolList
// ä¿æŒ total ç”±åç«¯è¿”å›çš„çœŸå®æ€»æ•°
```

**ä¿®æ”¹æ–‡ä»¶**:
- `Web/src/Views/ToolCenter/index.vue:329-337` - åˆ é™¤å‰ç«¯åˆ†é¡µé€»è¾‘
- `Web/src/Views/ToolCenter/index.vue:103-118` - ç›´æ¥ä½¿ç”¨ toolList

---

### 2.2 å·¥å…·ç±»å‹å¸¸é‡ç»Ÿä¸€

**é—®é¢˜ä½ç½®**:
- å‰ç«¯: `Web/src/Views/ToolCenter/components/ToolEditForm.vue:162-172`
- åç«¯: `Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/bo/ToolType.kt`

**é—®é¢˜æè¿°**:
- å‰ç«¯ç¡¬ç¼–ç : `ai-assistant`, `code-tool`, `data-processing` ç­‰
- åç«¯å®šä¹‰: `external_link`, `internal_link`, `mcp_server`

**ä¿®å¤æ–¹æ¡ˆ**: å‰ç«¯æ”¹ä¸ºä½¿ç”¨åç«¯å®šä¹‰çš„å·¥å…·ç±»å‹

```typescript
// å‰ç«¯ä½¿ç”¨ä¸åç«¯ä¸€è‡´çš„ç±»å‹
const toolTypes = computed(() => {
  return props.toolTypes.length > 0
    ? props.toolTypes
    : [
        { name: 'å¤–éƒ¨é“¾æ¥', value: 'external_link', description: 'çº¯ç²¹çš„iframeå·¥å…·ï¼Œå¿…é¡»å…è´¹' },
        { name: 'å†…éƒ¨é“¾æ¥', value: 'internal_link', description: 'iframeå·¥å…·ï¼Œä¼šä¸å¹³å°é¡µé¢äº¤äº’' },
        { name: 'MCPæœåŠ¡å™¨', value: 'mcp_server', description: 'MCPåè®®å·¥å…·' }
      ]
})
```

**ä¿®æ”¹æ–‡ä»¶**:
- `Web/src/Views/ToolCenter/components/ToolEditForm.vue:162-172`

---

### 2.3 æ•°æ®ç±»å‹ä¸åŒ¹é…ä¿®å¤

**é—®é¢˜æè¿°**:
- å‰ç«¯: `tagIds: string[]`, `keywords: string[]`
- åç«¯: `tagIds: String`, `keywords: String` (å•å­—ç¬¦ä¸²)

**ä¿®å¤æ–¹æ¡ˆ**: å‰ç«¯æ”¹ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨é€—å·åˆ†éš”

**ä¿®æ”¹æ–‡ä»¶**:
- `Web/src/Entity/ToolEntity.ts:13-14`
  ```typescript
  // ä¿®æ”¹å‰
  tagIds: string[];
  keywords: string[];

  // ä¿®æ”¹å
  tagIds: string;  // é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²
  keywords: string;  // é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²
  ```

- `Web/src/Views/ToolCenter/components/ToolEditForm.vue`:
  - ä¿®æ”¹è¡¨å•æ•°æ®å¤„ç†å’Œè½¬æ¢é€»è¾‘

---

### 2.4 åç«¯æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–

**é—®é¢˜ä½ç½®**: `Server/src/main/kotlin/com/wuzhi/server/service_tool/service/impl/ToolServiceImpl.kt:90-127`

**é—®é¢˜æè¿°**:
- æ³¨é‡Šæ‰äº†æ­£ç¡®çš„åˆ†é¡µæŸ¥è¯¢
- ä½¿ç”¨å…¨é‡æŸ¥è¯¢ï¼Œæ•°æ®é‡å¤§æ—¶æ€§èƒ½æå·®

**ä¿®å¤æ–¹æ¡ˆ**: å¯ç”¨ MyBatis-Plus åˆ†é¡µæŸ¥è¯¢

```kotlin
// å¯ç”¨åˆ†é¡µæŸ¥è¯¢
val page = Page<Tool>(dto.page, dto.pageSize)
val pageResult = page(page, wrapper)
val toolList = pageResult.records.map(ToolVO::fromTool)
return ResponseResult.success(
    OkMessages.QUERY_SUCCESS,
    PageResult(
        data = toolList,
        total = pageResult.total
    )
)
```

**ä¿®æ”¹æ–‡ä»¶**:
- `Server/src/main/kotlin/com/wuzhi/server/service_tool/service/impl/ToolServiceImpl.kt:116-127`

---

### 2.5 VOè½¬æ¢å®Œæ•´æ€§ä¿®å¤

**é—®é¢˜ä½ç½®**: `Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/vo/ToolVO.kt`

**é—®é¢˜æè¿°**: `fromTool()` æ–¹æ³•åªè½¬æ¢äº†éƒ¨åˆ†å­—æ®µ

**ä¿®å¤æ–¹æ¡ˆ**: è¡¥å……æ‰€æœ‰å¿…è¦å­—æ®µ

```kotlin
fun fromTool(tool: Tool): ToolVO {
    return ToolVO(
        id = tool.id!!,
        name = tool.name,
        description = tool.description,
        price = tool.price,
        url = tool.url,           // æ–°å¢
        version = tool.version,   // æ–°å¢
        viewCount = tool.viewCount,
        useCount = tool.useCount,
        rating = tool.rating,
        type = tool.type,
        authorUserId = tool.authorUserId,  // æ–°å¢
        tagIds = tool.tagIds,     // æ–°å¢
        keywords = tool.keywords, // æ–°å¢
        createTime = tool.createTime,  // æ–°å¢
        updateTime = tool.updateTime
    )
}
```

**ä¿®æ”¹æ–‡ä»¶**:
- `Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/vo/ToolVO.kt`

---

### 2.6 ä»·æ ¼å¤„ç†ä¿®å¤

**é—®é¢˜ä½ç½®**: `Web/src/Views/ToolCenter/index.vue:475-476`

**é—®é¢˜æè¿°**: ä½¿ç”¨å­—ç¬¦ä¸²æ¯”è¾ƒè€Œéæ•°å€¼æ¯”è¾ƒ

**ä¿®å¤æ–¹æ¡ˆ**:
```typescript
// ä¿®æ”¹å‰
const prices = toolList.value.map(tool => parseFloat(tool.price) || 0).filter(price => price > 0)

// ç¡®ä¿è½¬æ¢ä¸ºæ•°å€¼ç±»å‹
const prices = toolList.value
  .map(tool => parseFloat(String(tool.price)) || 0)
  .filter(price => price > 0)
```

**ä¿®æ”¹æ–‡ä»¶**:
- `Web/src/Views/ToolCenter/index.vue:475-476`

---

## ä¸‰ã€ä¿®å¤ä¼˜å…ˆçº§

### ğŸ”´ ç´§æ€¥ä¿®å¤ï¼ˆå¿…é¡»ä¼˜å…ˆï¼‰
1. **å‰åç«¯åˆ†é¡µé€»è¾‘ç»Ÿä¸€** - å½±å“æ ¸å¿ƒåŠŸèƒ½å±•ç¤º
2. **å·¥å…·ç±»å‹å¸¸é‡ç»Ÿä¸€** - å¯¼è‡´å‘å¸ƒåŠŸèƒ½å¤±æ•ˆ
3. **æ•°æ®ç±»å‹ä¸åŒ¹é…ä¿®å¤** - å¯¼è‡´æ•°æ®ä¿å­˜å¤±è´¥

### ğŸŸ¡ é‡è¦ä¿®å¤
4. **åç«¯æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–** - å¤§æ•°æ®é‡æ—¶å½±å“ç”¨æˆ·ä½“éªŒ
5. **VOè½¬æ¢å®Œæ•´æ€§** - å½±å“å‰ç«¯æ•°æ®å±•ç¤ºå®Œæ•´æ€§
6. **ä»·æ ¼å¤„ç†ä¼˜åŒ–** - å½±å“ç­›é€‰ç»Ÿè®¡å‡†ç¡®æ€§

---

## å››ã€æµ‹è¯•éªŒè¯æ¸…å•

### åŠŸèƒ½æµ‹è¯•
- [ ] å·¥å…·å‘å¸ƒåŠŸèƒ½æ­£å¸¸
- [ ] å·¥å…·åˆ—è¡¨åˆ†é¡µæ­£ç¡®
- [ ] å·¥å…·è¯¦æƒ…å±•ç¤ºå®Œæ•´
- [ ] å·¥å…·ç¼–è¾‘åŠŸèƒ½æ­£å¸¸
- [ ] ç­›é€‰åŠŸèƒ½ï¼ˆç±»å‹ã€ä»·æ ¼ã€æ ‡ç­¾ï¼‰æ­£å¸¸
- [ ] æ’åºåŠŸèƒ½æ­£å¸¸
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸

### æ•°æ®éªŒè¯
- [ ] tagIds æ­£ç¡®ä¿å­˜åˆ°æ•°æ®åº“
- [ ] keywords æ­£ç¡®ä¿å­˜åˆ°æ•°æ®åº“
- [ ] ä»·æ ¼å­—æ®µç±»å‹æ­£ç¡®
- [ ] å·¥å…·ç±»å‹æ ¡éªŒç”Ÿæ•ˆ

### æ€§èƒ½æµ‹è¯•
- [ ] å¤§æ•°æ®é‡ä¸‹åˆ†é¡µæŸ¥è¯¢æ€§èƒ½
- [ ] åˆ—è¡¨åŠ è½½é€Ÿåº¦
- [ ] ç­›é€‰å“åº”é€Ÿåº¦

---

## äº”ã€é£é™©è¯„ä¼°

### é«˜é£é™©
- æ•°æ®ç±»å‹ä¿®æ”¹å¯èƒ½å½±å“å†å²æ•°æ®å…¼å®¹æ€§
- å·¥å…·ç±»å‹ä¿®æ”¹å¯èƒ½å½±å“å·²æœ‰å·¥å…·çš„åˆ†ç±»

### ä¸­é£é™©
- åˆ†é¡µé€»è¾‘ä¿®æ”¹å¯èƒ½å½±å“å…¶ä»–ä½¿ç”¨ç›¸åŒé€»è¾‘çš„é¡µé¢
- VOå­—æ®µå¢åŠ å¯èƒ½å½±å“æ¥å£è¿”å›æ•°æ®é‡

### ç¼“è§£æªæ–½
- ä¿®æ”¹å‰å¤‡ä»½æ•°æ®åº“
- ç°åº¦å‘å¸ƒï¼Œå…ˆæµ‹è¯•éªŒè¯
- å‡†å¤‡å›æ»šæ–¹æ¡ˆ

---

## å…­ã€ç›¸å…³æ–‡ä»¶æ¸…å•

### å‰ç«¯æ–‡ä»¶
```
Web/src/Views/ToolCenter/index.vue
Web/src/Views/ToolCenter/components/ToolEditForm.vue
Web/src/Entity/ToolEntity.ts
Web/src/Api/ToolApi.ts
```

### åç«¯æ–‡ä»¶
```
Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/dto/ToolAddDTO.kt
Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/dto/ToolEditDTO.kt
Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/dto/ToolQueryDTO.kt
Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/vo/ToolVO.kt
Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/po/Tool.kt
Server/src/main/kotlin/com/wuzhi/server/service_tool/pojo/bo/ToolType.kt
Server/src/main/kotlin/com/wuzhi/server/service_tool/service/impl/ToolServiceImpl.kt
Server/src/main/kotlin/com/wuzhi/server/service_tool/controller/ToolController.kt
```

---

**åˆ›å»ºæ—¥æœŸ**: 2026-01-12  
**åˆ›å»ºäºº**: AIåŠ©æ‰‹  
**çŠ¶æ€**: å¾…ä¿®å¤ â†’ ä¿®å¤ä¸­ â†’ å·²éªŒè¯
